<!DOCTYPE html>
<html>
  <head>
    <title>Whispa</title>
    <meta charset="utf-8" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Babylonica&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
      <!-- header content -->
      <header>
        <div class="top_content">
          <div class="logo">
            <img src="icons/logo_dark.png" alt="Whispa Logo" class="logo-img" />
            <span class="logo-text">AI-powered note-taking assistant</span>
          </div>
          <div class="actions">
            <button id="copyBtn" class="action-btn" disabled title="Copy note">
              <img src="icons/copy.svg" width="16" height="16" alt="Copy" />
              <span class="btn-text">Copy</span>
            </button>
            <button
              id="exportBtn"
              class="action-btn"
              disabled
              title="Export notes"
            >
              <img
                src="icons/download.svg"
                width="16"
                height="16"
                alt="Export"
              />
              <span class="btn-text">Export</span>
            </button>
            <button
              id="linearBtn"
              class="action-btn"
              disabled
              title="Send to Linear"
            >
              <img src="icons/box.svg" width="16" height="16" alt="Box" />
              <span class="btn-text">Linear</span>
            </button>
            <button id="settingsBtn" class="action-btn settings-btn" title="Settings">
              <img
                src="icons/settings.svg"
                width="16"
                height="16"
                alt="Settings"
              />
              <span class="btn-text">Settings</span>
            </button>
          </div>
        </div>
        <div class="toolbar">
          <!-- Switch -->
          <label class="switch">
            <input type="checkbox" id="extensionToggle" checked />
            <span class="slider"></span>
            <span class="switch-label" id="switchLabel">on</span>
          </label>

          <div id="controls" class="controls">
            <button id="captureBtn" class="action-btn" title="Capture screen">
              <img
                src="icons/camera.svg"
                width="16"
                height="16"
                alt="Settings"
              />
              <!-- <span class="btn-text">Capture</span> -->
            </button>
            <button id="recordBtn" class="action-btn" title="Record audio">
              <img
                src="icons/mic.svg"
                width="16"
                height="16"
                alt="Settings"
                id="mic"
              />
              <!-- <span class="btn-text">Record</span> -->
            </button>
            <button id="generateBtn" class="action-btn" title="Generate note">
              <img
                src="icons/book-open.svg"
                width="16"
                height="16"
                alt="Settings"
              />
              <!-- <span class="btn-text">Generate</span> -->
            </button>
          </div>

          <!-- Select -->
          <select id="modeSelect">
            <option value="general" selected>General</option>
            <option value="bug">Bug</option>
            <option value="ux">UX</option>
            <option value="feature">Feature</option>
          </select>
        </div>
      </header>

      <main>
        <!-- Notes preview -->
          <div id="notesPreview" class="notes-container">
            <div id="notes" class="notes-content">
              <p class="placeholder">
                Your generated notes will appear here...
              </p>
            </div>
          </div>
      </main>
      <footer>
        <span id="status"></span>
          <!-- Image preview (initially hidden) -->
          <div id="imagePreview" class="preview-container">
            <div class="preview-header">
              <h3>Screen Capture</h3>
              <div id="progressContainer" class="progress-container">
                <progress value="0" max="100" id="captureProgress">Capture</progress>
                <progress value="0" max="100" id="recordProgress">Record</progress>
                <progress value="0" max="100" id="generateProgress">Generate</progress>
              </div>
            </div>
            <img id="capturedImage" class="hidden" src="" alt="Captured screen" />
          </div>
          <div class="lower_content"></div>
      </footer>
      <!--- Auth elements-->
      <div id="login" class="login hidden">
        <div class="form-group login-email">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required />
        </div>
        <div class="form-group login-password">
          <label for="password">Password:</label>
          <input type="password" id="password" name="password" required />
        </div>
        <button id="loginBtn" class="form-btn">Login</button>
        <div id="registerLink" class="register-link">Register instead</div>
      </div>
      <div id="register" class="register hidden">
        <div class="form-group register-name">
          <label for="name">Name:</label>
          <input type="text" id="name" name="name" required />
        </div>
        <div class="form-group register-email">
          <label for="email">Email:</label>
          <input type="email" id="email-register" name="email" required />
        </div>
        <div class="form-group register-password">
          <label for="password">Password:</label>
          <input type="password" id="password-register" name="password" required />
        </div>
        <button id="registerBtn" class="form-btn">Register</button>
        <div id="loginLink" class="login-link">Login instead</div>
      </div>

    <!-- Linear Modal -->
    <div id="linearModal" class="linear-modal hidden">
      <div class="linear-form">
        <h3>Create Linear Issue</h3>
        <div id="linearSuccess" class="linear-success hidden">
          Issue created successfully!
        </div>
        <div class="form-group">
          <label for="issueTitle">Title</label>
          <input type="text" id="issueTitle" placeholder="Enter issue title" />
        </div>
        <div class="form-group">
          <label for="issueDescription">Description</label>
          <textarea
            id="issueDescription"
            placeholder="Enter issue description"
          ></textarea>
        </div>
        <div class="form-group">
          <label for="issuePriority">Priority</label>
          <select id="issuePriority">
            <option value="low">Low</option>
            <option value="medium" selected>Medium</option>
            <option value="high">High</option>
            <option value="urgent">Urgent</option>
          </select>
        </div>
        <div class="form-actions">
          <button id="cancelLinearBtn" class="btn btn-secondary">Cancel</button>
          <button id="submitLinearBtn" class="btn primary">Create issue</button>
        </div>
      </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="settings-modal hidden">
      <div class="settings-modal-content">
        <h2>Settings</h2>
        <div class="form-group-container">
          <div class="form-group">
            <label for="linearApiKey"
              >Linear API Key
              <small style="color: red; margin-left: 3px">*</small></label
            >
            <input type="password" id="linearApiKey" name="linearApiKey" />
          </div>
          <div class="form-group">
            <label for="linearTeamId"
              >Linear Team ID
              <small style="color: red; margin-left: 3px">*</small></label
            >
            <input type="text" id="linearTeamId" name="linearTeamId" />
          </div>
          <div class="form-group">
            <label for="linearLabel">Linear Label</label>
            <input
              type="text"
              id="linearLabel"
              name="linearLabel"
              placeholder="IDs seperated by commas"
            />
          </div>
          <!-- <div class="form-group">
            <label for="issuePriority">Priority</label>
            <input
              type="number"
              default="1"
              min="0"
              max="4"
              id="issuePriority"
              name="issuePriority"
            />
          </div> -->
        </div>
        <div class="settings-modal-actions">
          <button id="cancelSettingsBtn" class="btn btn-secondary">
            Cancel
          </button>
          <button id="saveSettingsBtn" class="btn btn-primary">Save</button>
        </div>
      </div>
  </body>
</html>

<script src="popup.js"></script>
